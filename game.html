<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    const Hero = {
        name: 'MJay',
        hitPoints: 25,
        armorClass: 12,
        attackBonus: 5,
        magicSlots:  {
            name:'2 - –í–æ–ª—à–µ–±–Ω–∞—è —Å—Ç—Ä–µ–ª–∞',
            quantity: 2
        },
        getStatus: function () {
            return console.log(`\`‚öîÔ∏èpowerful MJay : ${Hero.hitPoints} HP`)
        },
        changeHP: function (hp) {
            if (this.hitPoints > 0) {
                this.hitPoints -= hp;
                if (this.hitPoints < 0) {
                    this.hitPoints = 0;
                }
                console.log(`üí• –£—Ä–æ–Ω: ${hp}`);
            } else {
                console.log(`üíÄ MJay —É–∂–µ –º–µ—Ä—Ç–≤.`);
            }
        },
        getMagicMissileDamage: function () {
            return Dice.d4() + Dice.d4() + Dice.d4() + 3
        }
    };
    const Enemy = {
        name: 'MaZaHaKeR',
        hitPoints: 30,
        armorClass: 15,
        attackBonus: 4,
        getStatus: function () {
            return console.log(`imperative MaZaHaKeR : ${Enemy.hitPoints} HP`)
        },
        changeHP: function (hp) {
            if (this.hitPoints > 0) {
                this.hitPoints -= hp;
                if (this.hitPoints < 0) {
                    this.hitPoints = 0;
                }
                console.log(`üí• –£—Ä–æ–Ω: ${hp}`);
            } else {
                console.log(`üíÄ MaZaHaKeR —É–∂–µ –º–µ—Ä—Ç–≤.`);
            }
        }
    };

    const Dice = {
        randomInt: (min, max) => {
            return Math.floor(Math.random() * (max - min + 1)) + min
        },
        d20: function () {
            return this.randomInt(1, 20)
        },
        d6: function () {
            return this.randomInt(1, 6)
        },
        d4: function () {
            return this.randomInt(1, 4)
        }
    };

    const gameplayMJay = () => {
        const resultHeroAttack = Dice.d20() + Hero.attackBonus
        console.log(`–ü–æ–ø—ã—Ç–∫–∞ –∞—Ç–∞–∫–∏  MJay —Ä–∞–≤–Ω–∞ ${resultHeroAttack}`)

        if (resultHeroAttack > Enemy.armorClass) {
            let damageHero = Dice.d6() + Dice.d6()
            Enemy.changeHP(damageHero)
            Enemy.getStatus()
            if (Enemy.hitPoints <= 0) {
                console.log(`üèÜ MJay –ø–æ–±–µ–¥–∏–ª`)
                return true
            }
        } else {
            console.log(`MJay –Ω–µ –ø–æ–ø–∞–ª ‚ùå –ø–æ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫—É`)
        }
        return true
    }

    const gameplayMaZaHaKeR = () => {
        if (Enemy.hitPoints !== 0) {
            const resultEnemyAttack = Dice.d20() + Enemy.attackBonus
            console.log(`–ü–æ–ø—ã—Ç–∫–∞ –∞—Ç–∞–∫–∏ MaZaHaKeR —Ä–∞–≤–Ω–∞ ${resultEnemyAttack}`)

            if (resultEnemyAttack > Hero.armorClass) {
                let damageEnemy = Dice.d6()
                Hero.changeHP(damageEnemy)
                Hero.getStatus()
            }
            if (Hero.hitPoints <= 0) {
                console.log(`üèÜMaZaHaKeR –ø–æ–±–µ–¥–∏–ª`)
                return true
            }
        } else {
            console.log(`MaZaHaKeR –Ω–µ ‚ùå –ø–æ–ø–∞–ª –ø–æ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫—É`)
        }
        return false
    }



    while (true) {
        let userChoice;

        do {
            userChoice = prompt(`–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≥–µ—Ä–æ—è:\n1 - –ê—Ç–∞–∫–æ–≤–∞—Ç—å\n${Hero.magicSlots ? Hero.magicSlots.name : '–í–æ–ª—à–µ–±–Ω–∞—è —Å—Ç—Ä–µ–ª–∞ (–∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å)'}\n3 - –°–ª—É—à–∞—Ç—å –±–∞—Ä–¥–∞\n4 - –£–±–µ–∂–∞—Ç—å\n\n–£–∫–∞–∂–∏ —Ü–∏—Ñ—Ä—É:`);

            if (userChoice !== '1' && userChoice !== '2' && userChoice !== '3' && userChoice !== '4') {
                console.log('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–ø—Ä–æ–±—É–π —Å–Ω–æ–≤–∞.');
            }
        } while (userChoice !== '1' && userChoice !== '2' && userChoice !== '3' && userChoice !== '4');



        switch (userChoice) {
            case '1':
                console.log('-----\n–•–æ–¥ –≥–µ—Ä–æ—è MJay\n-----');
                gameplayMJay();
                break;
            case '2':
                if (Hero.magicSlots.quantity > 0) {
                    Enemy.changeHP(Hero.getMagicMissileDamage());
                    console.log(`–ù–∞–Ω–µ—Å–µ–Ω–æ —É—Ä–æ–Ω–∞ ${Hero.getMagicMissileDamage()}`);
                    Enemy.getStatus();
                    Hero.magicSlots.quantity--;
                    if (Hero.magicSlots.quantity === 0) {
                        delete Hero.magicSlots;
                        console.log(`–£ –≥–µ—Ä–æ—è –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–π`);
                    }
                } else {
                    console.log(`–ó–∞–∫–ª–∏–Ω–∞–Ω–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å!`);
                }
                break;
            case '3':
                console.log('–ì–µ—Ä–æ–π —Å–ª—É—à–∞–µ—Ç –±–∞—Ä–¥–∞...');
                break;
            case '4':
                console.log('–ì–µ—Ä–æ–π —Ä–µ—à–∏–ª —Å–±–µ–∂–∞—Ç—å! üèÉ‚Äç‚ôÇÔ∏èüí®');
                break
            default:
                break;
        }

        console.log('-----\n–•–æ–¥ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ MaZaHaKeR\n-----');
        if (gameplayMaZaHaKeR()) break;

        console.log('================================');
    }

</script>
</body>
</html>